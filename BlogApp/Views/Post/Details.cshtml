@model BlogApp.Models.Post

@{
    ViewData["Title"] = "Post Details";
    if (User.Identity.IsAuthenticated)
    {
        // If you have roles stored in claims (like "Admin")
        if (User.IsInRole("Admin"))
        {
            Layout = "~/Views/Shared/AdminLayout.cshtml";
        }
        else if (User.IsInRole("User"))
        {
            Layout = "~/Views/Shared/UserLayout.cshtml";
        }
    }
    else
    {
        Layout = "~/Views/Shared/_Layout.cshtml"; // for non-logged-in visitors
    }
}

<h2>@Model.Title</h2>

@if (!string.IsNullOrEmpty(Model.PhotoPath))
{
    <img src="~/uploads/@Model.PhotoPath" width="400" alt="Post Image" class="img-fluid mb-3" />
}

<p>@Html.Raw(Model.Content)</p><!-- Views/Post/Details.cshtml -->


<h2>@Model.Title</h2>
<div>
    @Html.Raw(Model.Content) <!-- ✅ Important to render HTML properly -->
</div>



<p><strong>Status:</strong> @Model.Status</p>
<p><strong>Created At:</strong> @Model.CreatedAt.ToString("yyyy-MM-dd HH:mm")</p>

<a asp-action="Index" class="btn btn-secondary">Back to List</a>
<a asp-action="Edit" asp-route-id="@Model.Id" class="btn btn-warning">Edit</a>
